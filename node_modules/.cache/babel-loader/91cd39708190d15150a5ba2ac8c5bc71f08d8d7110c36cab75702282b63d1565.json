{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mjmjp\\\\OneDrive\\\\maindesktop\\\\hanghae99\\\\react\\\\mini-project-1\\\\src\\\\components\\\\Form\\\\CommentForm.jsx\",\n  _s = $RefreshSig$();\nimport { DetailComment } from \"./style\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CommentForm = ({\n  onConfirm\n}) => {\n  _s();\n  const [nickname, setNickname] = useState(\"\");\n  const [comment, setComment] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [comments, setComments] = useState([]);\n  const [confirm, setConfirm] = useState(\"\");\n  const {\n    itemId\n  } = useParams();\n  useEffect(() => {\n    fetchComments();\n  }, [itemId]);\n  const fetchComments = async () => {\n    try {\n      const response = await axios.get(`https://honeyitem.shop/api/items/${itemId}/comments`);\n      setComments(response.data.comments);\n    } catch (error) {\n      console.error(\"Error fetching comments:\", error);\n    }\n  };\n  const handleNicknameChange = event => {\n    setNickname(event.target.value);\n  };\n  const handleCommentChange = event => {\n    if (event.target.value.trim().length > 50) {\n      return;\n    }\n    setComment(event.target.value);\n  };\n  const handlePasswordChange = event => {\n    if (event.target.value.trim().length > 15) {\n      return;\n    }\n    setPassword(event.target.value);\n  };\n  const handleButtonClick = async () => {\n    if (!nickname || !comment || !password) {\n      alert(\"닉네임과 비밀번호 댓글을 모두 입력해주세요.\");\n      return;\n    }\n    try {\n      const response = await axios.post(`https://honeyitem.shop/api/items/${itemId}/comments`, {\n        nickname: nickname,\n        commentId: comment,\n        password: password,\n        confirm: confirm\n      });\n      if (response.status === 200) {\n        onConfirm(response.data);\n        setNickname(\"\");\n        setPassword(\"\");\n        setComment(\"\");\n        setConfirm(\"\");\n        fetchComments(); // Refresh the comments list\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(DetailComment, {\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      id: \"nickName-input\",\n      placeholder: \"\\uB2C9\\uB124\\uC784\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\",\n      value: nickname,\n      onChange: handleNicknameChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      id: \"comment-input\",\n      placeholder: \"\\uB313\\uAE00\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\",\n      value: comment,\n      onChange: handleCommentChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      id: \"password-input\",\n      placeholder: \"\\uBE44\\uBC00\\uBC88\\uD638\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694\",\n      value: password,\n      onChange: handlePasswordChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleButtonClick,\n      children: \"\\uD655\\uC778\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), comments.map(comment => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Nickname: \", comment.nickname]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Comment: \", comment.comment]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this)]\n    }, comment.commentId, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n};\n_s(CommentForm, \"71uyQZu7dN5ky2jZTz403sNqeGc=\", false, function () {\n  return [useParams];\n});\n_c = CommentForm;\nexport default CommentForm;\nvar _c;\n$RefreshReg$(_c, \"CommentForm\");","map":{"version":3,"names":["DetailComment","React","useState","useEffect","axios","useParams","jsxDEV","_jsxDEV","CommentForm","onConfirm","_s","nickname","setNickname","comment","setComment","password","setPassword","comments","setComments","confirm","setConfirm","itemId","fetchComments","response","get","data","error","console","handleNicknameChange","event","target","value","handleCommentChange","trim","length","handlePasswordChange","handleButtonClick","alert","post","commentId","status","children","id","placeholder","onChange","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","_c","$RefreshReg$"],"sources":["C:/Users/mjmjp/OneDrive/maindesktop/hanghae99/react/mini-project-1/src/components/Form/CommentForm.jsx"],"sourcesContent":["import { DetailComment } from \"./style\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nconst CommentForm = ({ onConfirm }) => {\r\n  const [nickname, setNickname] = useState(\"\");\r\n  const [comment, setComment] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [comments, setComments] = useState([]);\r\n  const [confirm, setConfirm] = useState(\"\");\r\n\r\n  const { itemId } = useParams();\r\n\r\n  useEffect(() => {\r\n    fetchComments();\r\n  }, [itemId]);\r\n\r\n  const fetchComments = async () => {\r\n    try {\r\n      const response = await axios.get(\r\n        `https://honeyitem.shop/api/items/${itemId}/comments`\r\n      );\r\n      setComments(response.data.comments);\r\n    } catch (error) {\r\n      console.error(\"Error fetching comments:\", error);\r\n    }\r\n  };\r\n\r\n  const handleNicknameChange = (event) => {\r\n    setNickname(event.target.value);\r\n  };\r\n\r\n  const handleCommentChange = (event) => {\r\n    if (event.target.value.trim().length > 50) {\r\n      return;\r\n    }\r\n    setComment(event.target.value);\r\n  };\r\n\r\n  const handlePasswordChange = (event) => {\r\n    if (event.target.value.trim().length > 15) {\r\n      return;\r\n    }\r\n    setPassword(event.target.value);\r\n  };\r\n\r\n  const handleButtonClick = async () => {\r\n    if (!nickname || !comment || !password) {\r\n      alert(\"닉네임과 비밀번호 댓글을 모두 입력해주세요.\");\r\n      return;\r\n    }\r\n    try {\r\n      const response = await axios.post(\r\n        `https://honeyitem.shop/api/items/${itemId}/comments`,\r\n        {\r\n          nickname: nickname,\r\n          commentId: comment,\r\n          password: password,\r\n          confirm: confirm,\r\n        }\r\n      );\r\n\r\n      if (response.status === 200) {\r\n        onConfirm(response.data);\r\n        setNickname(\"\");\r\n        setPassword(\"\");\r\n        setComment(\"\");\r\n        setConfirm(\"\");\r\n        fetchComments(); // Refresh the comments list\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <DetailComment>\r\n      <input\r\n        id='nickName-input'\r\n        placeholder='닉네임을 입력하세요'\r\n        value={nickname}\r\n        onChange={handleNicknameChange}\r\n      />\r\n      <input\r\n        id='comment-input'\r\n        placeholder='댓글을 입력하세요'\r\n        value={comment}\r\n        onChange={handleCommentChange}\r\n      />\r\n      <input\r\n        id='password-input'\r\n        placeholder='비밀번호를 입력하세요'\r\n        value={password}\r\n        onChange={handlePasswordChange}\r\n      />\r\n\r\n      <button onClick={handleButtonClick}>확인</button>\r\n\r\n      {/* Comment List */}\r\n      {comments.map((comment) => (\r\n        <div key={comment.commentId}>\r\n          <p>Nickname: {comment.nickname}</p>\r\n          <p>Comment: {comment.comment}</p>\r\n        </div>\r\n      ))}\r\n    </DetailComment>\r\n  );\r\n};\r\n\r\nexport default CommentForm;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}